<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">

<!-- Mirrored from bayou.io/release/0.9/javadoc/bayou/tcp/TcpChannel.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Feb 2020 22:14:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Generated by javadoc (1.8.0_45) on Thu May 07 17:28:35 CDT 2015 -->
<title>TcpChannel</title>
<meta name="date" content="2015-05-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TcpChannel";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TcpChannel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="TcpAddress.html" title="class in bayou.tcp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="TcpChannel2Connection.html" title="class in bayou.tcp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html#bayou/tcp/TcpChannel.html" target="_top">Frames</a></li>
<li><a href="TcpChannel.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">bayou.tcp</div>
<h2 title="Interface TcpChannel" class="title">Interface TcpChannel</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">TcpChannel</span></pre>
<div class="block">Non-blocking TCP channel.
 <p>
     This interface is used by <a href="TcpServer.html" title="class in bayou.tcp"><code>TcpServer</code></a> and <a href="TcpClient.html" title="class in bayou.tcp"><code>TcpClient</code></a> to abstract a TCP channel.
 </p>
 <p>
     You may want to use <a href="TcpConnection.html" title="interface in bayou.tcp"><code>TcpConnection</code></a> or <a href="../ssl/SslConnection.html" title="interface in bayou.ssl"><code>SslConnection</code></a>
     instead that wraps over a TcpChannel.
 </p>
 <p>
     This class is thread-safe, all methods can be called on any thread at any time.
     However it's best to have only one flow, using <a href="TcpChannel.html#getExecutor--"><code>the channel executor</code></a>.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<tr>
<th class="colFirst methodKind">Abstract Methods</th>
<th class="colLast"></th>
</tr>
<tr id="i0" class="altColor methodSummary">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#getPeerHost--">getPeerHost</a></span>()</code>
<div class="block">Get the host name of the peer; or null if unknown.</div>
</td>
</tr>
<tr id="i1" class="rowColor methodSummary">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#getPeerIp--">getPeerIp</a></span>()</code>
<div class="block">Get the IP address of the peer.</div>
</td>
</tr>
<tr id="i2" class="altColor methodSummary">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#getPeerPort--">getPeerPort</a></span>()</code>
<div class="block">Get the TCP port of the peer.</div>
</td>
</tr>
<tr id="i3" class="rowColor methodSummary">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#read-java.nio.ByteBuffer-">read</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb)</code>
<div class="block">Read some bytes into the ByteBuffer.</div>
</td>
</tr>
<tr id="i4" class="altColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#awaitReadable-boolean-">awaitReadable</a></span>(boolean&nbsp;accepting)</code>
<div class="block">Wait till this channel becomes readable.</div>
</td>
</tr>
<tr id="i5" class="rowColor methodSummary">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#write-java.nio.ByteBuffer...-">write</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>...&nbsp;srcs)</code>
<div class="block">Write bytes to this channel.</div>
</td>
</tr>
<tr id="i6" class="altColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#awaitWritable--">awaitWritable</a></span>()</code>
<div class="block">Wait till this channel becomes writable.</div>
</td>
</tr>
<tr id="i7" class="rowColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#shutdownOutput--">shutdownOutput</a></span>()</code>
<div class="block">Shutdown the output direction of this channel.</div>
</td>
</tr>
<tr id="i8" class="altColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#close--">close</a></span>()</code>
<div class="block">Close this channel.</div>
</td>
</tr>
<tr id="i9" class="rowColor methodSummary">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent">Executor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpChannel.html#getExecutor--">getExecutor</a></span>()</code>
<div class="block">Get an executor associated with this channel.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<ul class="blockList">
<li class="blockList">
<h4 id="getPeerHost--">getPeerHost</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getPeerHost()</pre>
<div class="block">Get the host name of the peer; or null if unknown.
 <p>
     If the host name is unknown, this method does not lookup the host name from the peer IP.
 </p>
 <p>
     For example, method <a href="TcpClient.html#connect-java.lang.String-java.net.InetAddress-int-"><code>TcpClient.connect(peerHost, ip, port)</code></a>
     provides peerHost for the resulting TcpChannel.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="getPeerIp--">getPeerIp</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;getPeerIp()</pre>
<div class="block">Get the IP address of the peer.</div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="getPeerPort--">getPeerPort</h4>
<pre>int&nbsp;getPeerPort()</pre>
<div class="block">Get the TCP port of the peer.</div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="read-java.nio.ByteBuffer-">read</h4>
<pre>int&nbsp;read(<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb)
  throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Read some bytes into the ByteBuffer.
 <p>
     The ByteBuffer should have <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/Buffer.html?is-external=true#remaining--" title="class or interface in java.nio"><code>remaining()</code></a>&gt;0.
 </p>
 <p>
     This method returns the number of bytes read;
     or -1 if EOF is reached (i.e. a TCP FIN is received from the peer).
 </p>
 <p>
     If this method returns 0, caller usually should call <a href="TcpChannel.html#awaitReadable-boolean-"><code>awaitReadable(boolean)</code></a>
     to wait for more bytes from the peer.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="awaitReadable-boolean-">awaitReadable</h4>
<pre><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;awaitReadable(boolean&nbsp;accepting)</pre>
<div class="block">Wait till this channel becomes readable.
 <p>
     This method is typically called after a previous read() returns 0.
 </p>
 <p>
     There can be only one pending awaitReadable action at any time.
 </p>
 <p>
     How will this action complete:
 </p>
 <ul>
     <li>
         this action succeeds when this channel becomes readable. Next read() should see some bytes.
     </li>
     <li>
         this action fails due to cancellation, channel being closed, server shutdown, etc.
     </li>
     <li>
         if parameter <code>`accepting==true`</code>, and the server is/becomes in the state
         of <a href="TcpServer.html#life-cycle"><code>acceptingPaused/Stopped</code></a>,
         this action fails with a message that the server is not accepting new connections.
         This is useful, for example, for an HTTP server to await for a new http request on a persistent connection;
         if pause/stopAccepting() is called, the pending awaitReadable actions fail, achieving the effect
         of not only pause/stop accepting new connections, but new requests as well.
     </li>
 </ul>
 <p>
     The parameter <code>`accepting`</code> has no meaning if this is a client-side channel,
     for example, this channel is the result of <a href="TcpClient.html#connect-java.lang.String-java.net.InetAddress-int-"><code>TcpClient.connect(String, java.net.InetAddress, int)</code></a>.
     In that case, the <code>false</code> value is recommended for `accepting`.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="write-java.nio.ByteBuffer...-">write</h4>
<pre>long&nbsp;write(<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>...&nbsp;srcs)
    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Write bytes to this channel.
 <p>
     Return number of bytes actually written.
     Note that not all bytes in `srcs` are guaranteed to be written, because the send buffer may be full.
 </p>
 <p>
     If not all bytes are written, caller should usually call <a href="TcpChannel.html#awaitWritable--"><code>awaitWritable()</code></a>.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="awaitWritable--">awaitWritable</h4>
<pre><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;awaitWritable()</pre>
<div class="block">Wait till this channel becomes writable.
 <p>
     This method is typically called after a previous write() didn't write all bytes.
     This action will wait for more rooms in the send buffer.
 </p>
 <p>
     There can be only one pending awaitWritable action at any time.
 </p>
 <p>
     This action succeeds when this channel become writable (next write() should be able to write more bytes),
     or fails due to cancellation, channel being closed, server shutdown etc.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="shutdownOutput--">shutdownOutput</h4>
<pre>void&nbsp;shutdownOutput()
             throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Shutdown the output direction of this channel.
 <p>
     A TCP FIN will be sent to the peer.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="close--">close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Close this channel.</div>
</li>
</ul>
<ul class="blockListLast">
<li class="blockList">
<h4 id="getExecutor--">getExecutor</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html?is-external=true" title="class or interface in java.util.concurrent">Executor</a>&nbsp;getExecutor()</pre>
<div class="block">Get an executor associated with this channel.
 <p>
     The executor can be used to execute non-blocking tasks related to this channel.
     Tasks will be executed sequentially in the order they are submitted.
 </p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TcpChannel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="TcpAddress.html" title="class in bayou.tcp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="TcpChannel2Connection.html" title="class in bayou.tcp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html#bayou/tcp/TcpChannel.html" target="_top">Frames</a></li>
<li><a href="TcpChannel.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>

<!-- Mirrored from bayou.io/release/0.9/javadoc/bayou/tcp/TcpChannel.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Feb 2020 22:14:34 GMT -->
</html>
