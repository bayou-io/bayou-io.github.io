<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">

<!-- Mirrored from bayou.io/release/0.9/javadoc/bayou/tcp/TcpServer.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Feb 2020 22:15:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Generated by javadoc (1.8.0_45) on Thu May 07 17:28:36 CDT 2015 -->
<title>TcpServer</title>
<meta name="date" content="2015-05-07">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TcpServer";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TcpServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="TcpConnection.html" title="interface in bayou.tcp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="TcpServer.Conf.html" title="class in bayou.tcp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html#bayou/tcp/TcpServer.html" target="_top">Frames</a></li>
<li><a href="TcpServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">bayou.tcp</div>
<h2 title="Class TcpServer" class="title">Class TcpServer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>bayou.tcp.TcpServer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TcpServer</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Non-blocking TCP server.
 <p>
     A TcpServer can be bound to multiple addresses;
     each address has a corresponding channel handler.
     See <a href="TcpServer.Conf.html#handlers"><code>TcpServer.Conf.handlers</code></a>.
 </p>
 <h4 id=life-cycle>Life Cycle</h4>
 <p>
     The server can be in 4 states: <code>init, accepting, acceptingPaused, acceptingStopped.</code>
 </p>
 <p>
     After <a href="TcpServer.html#start--"><code>start()</code></a>, the server is in <code>accepting</code> state.
     New incoming connections are accepted.
 </p>
 <p>
     If <a href="TcpServer.html#pauseAccepting--"><code>pauseAccepting()</code></a> is called, the server is in <code>acceptingPaused</code> state.
     New connections are not accepted.
     This is useful to protect the server when some resources are about to be exhausted.
     The server socket ports are still owned by this server.
     The server can be resumed to <code>accepting</code> state by <a href="TcpServer.html#resumeAccepting--"><code>resumeAccepting()</code></a>.
 </p>
 <p>
     After <a href="TcpServer.html#stopAccepting--"><code>stopAccepting()</code></a>, the server is in <code>acceptingStopped</code> state.
     New connections are not accepted.
     The server socket ports are freed and can be grabbed by another server.
     Existing connections are still functional until app closes them.
     Check the number of live connections by <a href="TcpServer.html#getConnectionCount--"><code>getConnectionCount()</code></a>.
 </p>
 <p>
     The <a href="TcpServer.html#stopAll--"><code>stopAll()</code></a> call will stop accepting new connections and kill all existing connections.
     The server is then back to the <code>init</code> state.
 </p>
 <p>
     You can use <a href="TcpServer.html#stop-java.time.Duration-"><code>stop(graceTimeout)</code></a> to gracefully stop the server.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.Conf.html" title="class in bayou.tcp">TcpServer.Conf</a></span></code>
<div class="block">Configuration for TcpServer.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="TcpServer.html#TcpServer-bayou.tcp.TcpServer.Conf-">TcpServer</a></span>(<a href="TcpServer.Conf.html" title="class in bayou.tcp">TcpServer.Conf</a>&nbsp;conf)</code>
<div class="block">Create a TcpServer.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<tr>
<th class="colFirst methodKind">Instance Methods</th>
<th class="colLast"></th>
</tr>
<tr id="i0" class="altColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#start--">start</a></span>()</code>
<div class="block">Start the server.</div>
</td>
</tr>
<tr id="i1" class="rowColor methodSummary">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/channels/ServerSocketChannel.html?is-external=true" title="class or interface in java.nio.channels">ServerSocketChannel</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#getServerSockets--">getServerSockets</a></span>()</code>
<div class="block">Get server sockets.</div>
</td>
</tr>
<tr id="i2" class="altColor methodSummary">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#getConnectionCount--">getConnectionCount</a></span>()</code>
<div class="block">Get the number of connections.</div>
</td>
</tr>
<tr id="i3" class="rowColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#pauseAccepting--">pauseAccepting</a></span>()</code>
<div class="block">Pause accepting new connections.</div>
</td>
</tr>
<tr id="i4" class="altColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#resumeAccepting--">resumeAccepting</a></span>()</code>
<div class="block">Resume accepting new connections.</div>
</td>
</tr>
<tr id="i5" class="rowColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#stopAccepting--">stopAccepting</a></span>()</code>
<div class="block">Stop accepting new connections.</div>
</td>
</tr>
<tr id="i6" class="altColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#stopAll--">stopAll</a></span>()</code>
<div class="block">Stop accepting new connections and kill all connections.</div>
</td>
</tr>
<tr id="i7" class="rowColor methodSummary">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="TcpServer.html#stop-java.time.Duration-">stop</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time">Duration</a>&nbsp;graceTimeout)</code>
<div class="block">Gracefully stop the server.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<ul class="blockListLast">
<li class="blockList">
<h4 id="TcpServer-bayou.tcp.TcpServer.Conf-">TcpServer</h4>
<pre>public&nbsp;TcpServer(<a href="TcpServer.Conf.html" title="class in bayou.tcp">TcpServer.Conf</a>&nbsp;conf)</pre>
<div class="block">Create a TcpServer. The server is in <code>init</code> state.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<ul class="blockList">
<li class="blockList">
<h4 id="start--">start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Start the server. See <a href="#life-cycle">Life Cycle</a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="getServerSockets--">getServerSockets</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/channels/ServerSocketChannel.html?is-external=true" title="class or interface in java.nio.channels">ServerSocketChannel</a>&gt;&nbsp;getServerSockets()</pre>
<div class="block">Get server sockets.
 <p>
     Returns an empty set if the server is not started, or has been stopped.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="getConnectionCount--">getConnectionCount</h4>
<pre>public&nbsp;int&nbsp;getConnectionCount()</pre>
<div class="block">Get the number of connections.</div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="pauseAccepting--">pauseAccepting</h4>
<pre>public&nbsp;void&nbsp;pauseAccepting()</pre>
<div class="block">Pause accepting new connections. See <a href="#life-cycle">Life Cycle</a>.</div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="resumeAccepting--">resumeAccepting</h4>
<pre>public&nbsp;void&nbsp;resumeAccepting()</pre>
<div class="block">Resume accepting new connections. See <a href="#life-cycle">Life Cycle</a>.</div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="stopAccepting--">stopAccepting</h4>
<pre>public&nbsp;void&nbsp;stopAccepting()</pre>
<div class="block">Stop accepting new connections. See <a href="#life-cycle">Life Cycle</a>.</div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="stopAll--">stopAll</h4>
<pre>public&nbsp;void&nbsp;stopAll()</pre>
<div class="block">Stop accepting new connections and kill all connections. See <a href="#life-cycle">Life Cycle</a>.</div>
</li>
</ul>
<ul class="blockListLast">
<li class="blockList">
<h4 id="stop-java.time.Duration-">stop</h4>
<pre>public&nbsp;void&nbsp;stop(<a href="http://docs.oracle.com/javase/8/docs/api/java/time/Duration.html?is-external=true" title="class or interface in java.time">Duration</a>&nbsp;graceTimeout)</pre>
<div class="block">Gracefully stop the server.
 <ol>
     <li>
         Call <a href="TcpServer.html#stopAccepting--"><code>stopAccepting()</code></a> to stop accepting new connections.
     </li>
     <li>
         Wait for <a href="TcpServer.html#getConnectionCount--"><code>getConnectionCount()</code></a> to reach 0, within `graceTimeout`.
     </li>
     <li>
         Call <a href="TcpServer.html#stopAll--"><code>stopAll()</code></a>.
     </li>
 </ol></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TcpServer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="TcpConnection.html" title="interface in bayou.tcp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="TcpServer.Conf.html" title="class in bayou.tcp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html#bayou/tcp/TcpServer.html" target="_top">Frames</a></li>
<li><a href="TcpServer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>

<!-- Mirrored from bayou.io/release/0.9/javadoc/bayou/tcp/TcpServer.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Feb 2020 22:15:26 GMT -->
</html>
