<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">

<!-- Mirrored from bayou.io/release/1.0/javadoc/bayou/websocket/WebSocketChannel.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Feb 2020 22:09:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Generated by javadoc (1.8.0_60) on Sat Feb 13 00:04:45 CST 2016 -->
<title>WebSocketChannel</title>
<meta name="date" content="2016-02-13">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WebSocketChannel";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebSocketChannel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="HotWebSocketHandler.html" title="class in bayou.websocket"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="WebSocketClose.html" title="class in bayou.websocket"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html#bayou/websocket/WebSocketChannel.html" target="_top">Frames</a></li>
<li><a href="WebSocketChannel.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">bayou.websocket</div>
<h2 title="Interface WebSocketChannel" class="title">Interface WebSocketChannel</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">WebSocketChannel</span></pre>
<div class="block">WebSocket channel for reading and writing messages.
 <p>
     To read the next <a href="WebSocketMessage.html" title="interface in bayou.websocket"><code>WebSocketMessage</code></a> from the the peer,
     call <a href="WebSocketChannel.html#readMessage--"><code>readMessage()</code></a>, or convenience methods
     <a href="WebSocketChannel.html#readText-int-"><code>readText(int)</code></a>, <a href="WebSocketChannel.html#readBinary-int-"><code>readBinary(int)</code></a>.
     These actions will fail with <a href="WebSocketClose.html" title="class in bayou.websocket"><code>WebSocketClose</code></a> if the inbound is gracefully closed by the peer.
 </p>
 <p>
     To write a <a href="WebSocketMessage.html" title="interface in bayou.websocket"><code>WebSocketMessage</code></a> to the peer,
     call <a href="WebSocketChannel.html#writeMessage-bayou.websocket.WebSocketMessage-"><code>writeMessage(WebSocketMessage)</code></a>, or convenience methods
     <a href="WebSocketChannel.html#writeText-java.lang.CharSequence-"><code>writeText(CharSequence)</code></a>, <a href="WebSocketChannel.html#writeBinary-byte:A-"><code>writeBinary(byte[])</code></a>.
 </p>
 <p>
     To gracefully close the outbound, call <a href="WebSocketChannel.html#writeClose--"><code>writeClose()</code></a>.
 </p>
 <p>
     The channel must be eventually closed by calling <a href="WebSocketChannel.html#close--"><code>close()</code></a>.
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<tr>
<th class="colFirst methodKind">Abstract Methods</th>
<th class="colLast"></th>
</tr>
<tr id="i0" class="altColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="WebSocketMessage.html" title="interface in bayou.websocket">WebSocketMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#readMessage--">readMessage</a></span>()</code>
<div class="block">Read the next message from the peer.</div>
</td>
</tr>
<tr id="i3" class="rowColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#writeMessage-bayou.websocket.WebSocketMessage-">writeMessage</a></span>(<a href="WebSocketMessage.html" title="interface in bayou.websocket">WebSocketMessage</a>&nbsp;message)</code>
<div class="block">Write a message to the peer.</div>
</td>
</tr>
<tr id="i6" class="altColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#writeClose--">writeClose</a></span>()</code>
<div class="block">Close the outbound gracefully.</div>
</td>
</tr>
<tr id="i7" class="rowColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#close--">close</a></span>()</code>
<div class="block">Close the channel.</div>
</td>
</tr>
<tr>
<th class="colFirst methodKind">Default Methods</th>
<th class="colLast"></th>
</tr>
<tr id="i1" class="altColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#readText-int-">readText</a></span>(int&nbsp;maxChars)</code>
<div class="block">Read the next text message as one String.</div>
</td>
</tr>
<tr id="i2" class="rowColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#readBinary-int-">readBinary</a></span>(int&nbsp;maxBytes)</code>
<div class="block">Read the next binary message into one ByteBuffer.</div>
</td>
</tr>
<tr id="i4" class="altColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#writeText-java.lang.CharSequence-">writeText</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;chars)</code>
<div class="block">Write a text message to the peer.</div>
</td>
</tr>
<tr id="i5" class="rowColor methodSummary">
<td class="colFirst"><code><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="WebSocketChannel.html#writeBinary-byte:A-">writeBinary</a></span>(byte[]&nbsp;bytes)</code>
<div class="block">Write a binary message to the peer.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<ul class="blockList">
<li class="blockList">
<h4 id="readMessage--">readMessage</h4>
<pre><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="WebSocketMessage.html" title="interface in bayou.websocket">WebSocketMessage</a>&gt;&nbsp;readMessage()</pre>
<div class="block">Read the next message from the peer.
 <p>
     This action will succeed when the next message arrives.
     The application must <a href="../bytes/ByteSource.html#read--"><code>read</code></a> the message
     till EOF, or <a href="../bytes/ByteSource.html#close--"><code>close</code></a> the message
     (regardless of EOF), before it can call <code>readMessage()</code> again.
 </p>
 <p>
     This action will fail with <a href="WebSocketClose.html" title="class in bayou.websocket"><code>WebSocketClose</code></a> (a subtype of <a href="../util/End.html" title="class in bayou.util"><code>End</code></a>)
     if the inbound is gracefully closed by the peer.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="readText-int-">readText</h4>
<pre>default&nbsp;<a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;readText(int&nbsp;maxChars)</pre>
<div class="block">Read the next text message as one String.
 <p>
     The next message must be a <a href="WebSocketMessage.html#text">Text message</a>.
     If it's a Binary message instead,
     this action fails with <a href="WebSocketException.html" title="class in bayou.websocket"><code>WebSocketException</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxChars</code> - maximum chars expected in the message. If exceeded,
        this action fails with <a href="../util/OverLimitException.html" title="class in bayou.util"><code>OverLimitException</code></a>.</dd>
</dl>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="readBinary-int-">readBinary</h4>
<pre>default&nbsp;<a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&gt;&nbsp;readBinary(int&nbsp;maxBytes)</pre>
<div class="block">Read the next binary message into one ByteBuffer.
 <p>
     The next message must be a <a href="WebSocketMessage.html#binary">Binary message</a>.
     If it's a Text message instead,
     this action fails with <a href="WebSocketException.html" title="class in bayou.websocket"><code>WebSocketException</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxBytes</code> - maximum bytes expected in the message. If exceeded,
        this action fails with <a href="../util/OverLimitException.html" title="class in bayou.util"><code>OverLimitException</code></a>.</dd>
</dl>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="writeMessage-bayou.websocket.WebSocketMessage-">writeMessage</h4>
<pre><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;writeMessage(<a href="WebSocketMessage.html" title="interface in bayou.websocket">WebSocketMessage</a>&nbsp;message)</pre>
<div class="block">Write a message to the peer.
 <p>
     This action succeeds after the message is written;
     the result is the total bytes in the message (not including framing bytes).
 </p>
 <p>
     This method should not be called after <a href="WebSocketChannel.html#writeClose--"><code>writeClose()</code></a> is called.
 </p>
 <p>
     It's not necessary to wait for a writeMessage() action to complete
     before writing the next message. The outbound messages will be queued.
     However, the application should wait for the last writeMessage() action
     (or the writeClose() action if it's called) to complete before calling <a href="WebSocketChannel.html#close--"><code>close()</code></a>
     to ensure outbound data are reliably delivered.
 </p>
 <p>
     If this action fails (e.g. because the action is cancelled, or message.read() fails),
     the outbound is likely corrupt, the channel should be by closed by <a href="WebSocketChannel.html#close--"><code>close()</code></a>.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="writeText-java.lang.CharSequence-">writeText</h4>
<pre>default&nbsp;<a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;writeText(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;chars)</pre>
<div class="block">Write a text message to the peer.
 <p>
     This method is equivalent to
     <code>writeMessage(WebSocketMessage.text(chars))</code>.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="writeBinary-byte:A-">writeBinary</h4>
<pre>default&nbsp;<a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;writeBinary(byte[]&nbsp;bytes)</pre>
<div class="block">Write a binary message to the peer.
 <p>
     This method is equivalent to
     <code>writeMessage(WebSocketMessage.binary(bytes))</code>.
 </p></div>
</li>
</ul>
<ul class="blockList">
<li class="blockList">
<h4 id="writeClose--">writeClose</h4>
<pre><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;writeClose()</pre>
<div class="block">Close the outbound gracefully.
 <p>
     A <a href="WebSocketClose.html#close-frame">Close-Frame</a> will be sent to the peer
     (after queued outbound messages are sent).
 </p>
 <p>
     This method can be called at most once.
 </p></div>
</li>
</ul>
<ul class="blockListLast">
<li class="blockList">
<h4 id="close--">close</h4>
<pre><a href="../async/Async.html" title="interface in bayou.async">Async</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Void.html?is-external=true" title="class or interface in java.lang">Void</a>&gt;&nbsp;close()</pre>
<div class="block">Close the channel.
 <p>
     This method frees resources associated with this channel, e.g. the underlying TCP connection.
 </p>
 <p>
     This method does *not* perform <a href="WebSocketClose.html#close-frame">Close-Frame</a> exchange;
     <!-- because it's not needed by all apps. -->
     if the application wants to, it can do that through
     <a href="WebSocketChannel.html#readMessage--"><code>readMessage()</code></a> and <a href="WebSocketChannel.html#writeClose--"><code>writeClose()</code></a>.
 </p>
 <p>
     This method can be called multiple times; only the first call is effective.
 </p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebSocketChannel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="HotWebSocketHandler.html" title="class in bayou.websocket"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="WebSocketClose.html" title="class in bayou.websocket"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html#bayou/websocket/WebSocketChannel.html" target="_top">Frames</a></li>
<li><a href="WebSocketChannel.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>

<!-- Mirrored from bayou.io/release/1.0/javadoc/bayou/websocket/WebSocketChannel.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 28 Feb 2020 22:09:43 GMT -->
</html>
